<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Confirm Edit</title>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <div class="container">
    <div class="header">
      <h1 class="title">TODO LIST</h1>
      <a href="/logout" class="logout-btn">Logout</a>
    </div>
    <div class="divider-long"></div>
    <h2>Preview Changes</h2>
    <div class="preview-box">
      <p><strong>Title:</strong> <%= title %></p>
      <p><strong>Description:</strong> <%= description %></p>
      <% if (dueDate) { %>
        <p><strong>Due Date:</strong> 
          <%= new Date(dueDate).toLocaleDateString('en-GB', { 
            timeZone: 'Asia/Hong_Kong', 
            day: 'numeric', month: 'short', year: 'numeric' 
          }) %>
        </p>
        <% if (dueTime) { %>
          <p><strong>Due Time:</strong> <%= dueTime %></p>
        <% } else { %>
          <p><strong>Due Time:</strong> No due time</p>
        <% } %>
      <% } else { %>
        <p><strong>Due:</strong> No due date</p>
      <% } %>
    </div>
    <form action="/todos/update-confirm/<%= id %>" method="POST">
      <input type="hidden" name="title" value="<%= title %>">
      <input type="hidden" name="description" value="<%= description %>">
      <button class="confirm-btn">Confirm Update</button>
      <a href="/todos" class="cancel-btn">Cancel</a>
    </form>
  </div>
</body>
</html>
