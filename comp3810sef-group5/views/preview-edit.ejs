<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Confirm Edit Todo</title>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <div class="container">
    <div class="header">
      <h1 class="title">TODO LIST</h1>
      <a href="/logout" class="logout-btn">Logout</a>
    </div>
    <div class="divider-long"></div>

    <h2>Preview Changes</h2>
    <div class="preview-box">
      <p><strong>Title:</strong> <%= title || 'Untitled' %></p>
      <p><strong>Description:</strong> <%= description || '(No description)' %></p>
      <% if (dueDate) { %>
        <p><strong>Due Date:</strong> 
          <%= new Date(dueDate).toLocaleDateString('en-GB', { timeZone: 'Asia/Hong_Kong', day: 'numeric', month: 'short', year: 'numeric' }) %>
        </p>
        <% if (dueTime) { %>
          <p><strong>Due Time:</strong> <%= dueTime %> HKT</p>
        <% } else { %>
          <p><strong>Due Time:</strong> No time set</p>
        <% } %>
      <% } else { %>
        <p><strong>Due:</strong> No due date</p>
      <% } %>
    </div>

    <form action="/todos/update-confirm/<%= id %>" method="POST" style="display: inline;">
      <input type="hidden" name="title" value="<%= title %>">
      <input type="hidden" name="description" value="<%= description %>">
      <input type="hidden" name="dueDate" value="<%= dueDate %>">
      <input type="hidden" name="dueTime" value="<%= dueTime %>">
      <button type="submit" class="confirm-btn">Confirm Update</button>
    </form>
    <a href="/todos" class="cancel-btn">Cancel</a>
  </div>
</body>
</html>
